(self.webpackChunkborder=self.webpackChunkborder||[]).push([[5822],{55621:function(e,t,s){"use strict";var n=s(25108),a=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),r=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||a(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0});const i=s(36750);t.default=class{constructor(e=null,t=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isValidMessage=({origin:e,data:t,source:s})=>{const n=!t,a=s===window.parent,r=(void 0!==t.version&&parseInt(t.version.split(".")[0]))>=1;let i=!0;return Array.isArray(this.allowedOrigins)&&(i=void 0!==this.allowedOrigins.find((t=>t.test(e)))),!n&&a&&r&&i},this.logIncomingMessage=e=>{n.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{const{id:t}=e,s=this.callbacks.get(t);s&&(s(e),this.callbacks.delete(t))},this.send=(e,t)=>{const s=i.MessageFormatter.makeRequest(e,t);if("undefined"==typeof window)throw new Error("Window doesn't exist");return window.parent.postMessage(s,"*"),new Promise(((e,t)=>{this.callbacks.set(s.id,(s=>{s.success?e(s):t(new Error(s.error))}))}))},this.allowedOrigins=e,this.debugMode=t,window.addEventListener("message",this.onParentMessage)}},r(s(92628),t)},36750:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageFormatter=void 0;const n=s(56036),a=s(78855);class r{}t.MessageFormatter=r,r.makeRequest=(e,t)=>({id:(0,a.generateRequestId)(),method:e,params:t,env:{sdkVersion:(0,n.getSDKVersion)()}}),r.makeResponse=(e,t,s)=>({id:e,success:!0,version:s,data:t}),r.makeErrorResponse=(e,t,s)=>({id:e,success:!1,error:t,version:s})},92628:(e,t)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.Methods=void 0,(s=t.Methods||(t.Methods={})).sendTransactions="sendTransactions",s.rpcCall="rpcCall",s.getChainInfo="getChainInfo",s.getSafeInfo="getSafeInfo",s.getTxBySafeTxHash="getTxBySafeTxHash",s.getSafeBalances="getSafeBalances",s.signMessage="signMessage"},78855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRequestId=void 0;const s=e=>e.toString(16).padStart(2,"0");t.generateRequestId=()=>"undefined"!=typeof window?(e=>{const t=new Uint8Array(5);return window.crypto.getRandomValues(t),Array.from(t,s).join("")})():(new Date).getTime().toString(36)},71068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RPC_CALLS=void 0,t.RPC_CALLS={eth_call:"eth_call",eth_gasPrice:"eth_gasPrice",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt",eth_getTransactionCount:"eth_getTransactionCount",eth_estimateGas:"eth_estimateGas"}},60770:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Eth=void 0;const n=s(71068),a=s(92628),r={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};t.Eth=class{constructor(e){this.communicator=e,this.call=this.buildRequest({call:n.RPC_CALLS.eth_call,formatters:[null,r.defaultBlockParam]}),this.getBalance=this.buildRequest({call:n.RPC_CALLS.eth_getBalance,formatters:[null,r.defaultBlockParam]}),this.getCode=this.buildRequest({call:n.RPC_CALLS.eth_getCode,formatters:[null,r.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:n.RPC_CALLS.eth_getStorageAt,formatters:[null,r.blockNumberToHex,r.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:n.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:n.RPC_CALLS.eth_getBlockByHash,formatters:[null,r.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:n.RPC_CALLS.eth_getBlockByNumber,formatters:[r.blockNumberToHex,r.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionReceipt}),this.getTransactionCount=this.buildRequest({call:n.RPC_CALLS.eth_getTransactionCount,formatters:[null,r.defaultBlockParam]}),this.getGasPrice=this.buildRequest({call:n.RPC_CALLS.eth_gasPrice}),this.getEstimateGas=e=>this.buildRequest({call:n.RPC_CALLS.eth_estimateGas})([e])}buildRequest(e){const{call:t,formatters:s}=e;return async e=>{s&&Array.isArray(e)&&s.forEach(((t,s)=>{t&&(e[s]=t(e[s]))}));const n={call:t,params:e||[]};return(await this.communicator.send(a.Methods.rpcCall,n)).data}}}},85822:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),a=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const i=r(s(15381));t.default=i.default,a(s(15381),t),a(s(73302),t),a(s(92628),t),a(s(36750),t);var o=s(56036);Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return o.getSDKVersion}})},26016:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Safe=void 0;const n=s(20536),a=s(73726),r=s(92628),i=s(71068);t.Safe=class{constructor(e){this.communicator=e}async getChainInfo(){return(await this.communicator.send(r.Methods.getChainInfo,void 0)).data}async getInfo(){return(await this.communicator.send(r.Methods.getSafeInfo,void 0)).data}async experimental_getBalances({currency:e="usd"}={}){return(await this.communicator.send(r.Methods.getSafeBalances,{currency:e})).data}async check1271Signature(e,t="0x"){const s=await this.getInfo(),n=a.EIP_1271_INTERFACE.encodeFunctionData("isValidSignature",[e,t]),o={call:i.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:n},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,o)).data.slice(0,10).toLowerCase()===a.MAGIC_VALUE}catch(e){return!1}}async check1271SignatureBytes(e,t="0x"){const s=await this.getInfo(),o=n.ethers.utils.arrayify(e),c=a.EIP_1271_BYTES_INTERFACE.encodeFunctionData("isValidSignature",[o,t]),u={call:i.RPC_CALLS.eth_call,params:[{to:s.safeAddress,data:c},"latest"]};try{return(await this.communicator.send(r.Methods.rpcCall,u)).data.slice(0,10).toLowerCase()===a.MAGIC_VALUE_BYTES}catch(e){return!1}}calculateMessageHash(e){return n.ethers.utils.hashMessage(e)}async isMessageSigned(e,t="0x"){const s=this.calculateMessageHash(e);return await this.isMessageHashSigned(s,t)}async isMessageHashSigned(e,t="0x"){const s=[this.check1271Signature.bind(this),this.check1271SignatureBytes.bind(this)];for(const n of s)if(await n(e,t))return!0;return!1}}},73726:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAGIC_VALUE_BYTES=t.MAGIC_VALUE=t.EIP_1271_BYTES_INTERFACE=t.EIP_1271_INTERFACE=void 0;const n=s(20536);t.MAGIC_VALUE="0x1626ba7e",t.MAGIC_VALUE_BYTES="0x20c13b0b";const a=new n.ethers.utils.Interface(["function isValidSignature(bytes32 _dataHash, bytes calldata _signature) external view"]);t.EIP_1271_INTERFACE=a;const r=new n.ethers.utils.Interface(["function isValidSignature(bytes calldata _data, bytes calldata _signature) public view"]);t.EIP_1271_BYTES_INTERFACE=r},15381:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(s(55621)),r=s(44931),i=s(60770),o=s(26016);t.default=class{constructor(e={}){const{whitelistedDomains:t=null,debug:s=!1}=e;this.communicator=new a.default(t,s),this.eth=new i.Eth(this.communicator),this.txs=new r.TXs(this.communicator),this.safe=new o.Safe(this.communicator)}}},44931:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TXs=void 0;const n=s(92628);t.TXs=class{constructor(e){this.communicator=e}async getBySafeTxHash(e){if(!e)throw new Error("Invalid safeTxHash");return(await this.communicator.send(n.Methods.getTxBySafeTxHash,{safeTxHash:e})).data}async signMessage(e){const t={message:e};return(await this.communicator.send(n.Methods.signMessage,t)).data}async send({txs:e,params:t}){if(!e||!e.length)throw new Error("No transactions were passed");const s={txs:e,params:t};return(await this.communicator.send(n.Methods.sendTransactions,s)).data}}},23672:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransferDirection=t.TransactionStatus=t.TokenType=t.Operation=void 0;var n=s(97663);Object.defineProperty(t,"Operation",{enumerable:!0,get:function(){return n.Operation}}),Object.defineProperty(t,"TokenType",{enumerable:!0,get:function(){return n.TokenType}}),Object.defineProperty(t,"TransactionStatus",{enumerable:!0,get:function(){return n.TransactionStatus}}),Object.defineProperty(t,"TransferDirection",{enumerable:!0,get:function(){return n.TransferDirection}})},73302:function(e,t,s){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),a=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),a(s(24644),t),a(s(49741),t),a(s(23672),t),a(s(52350),t)},52350:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s(92628)},49741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},24644:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56036:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const a=n(s(72010));t.getSDKVersion=()=>a.default.version.slice(0,5)},97663:function(e){e.exports=(()=>{var e={204:(e,t,s)=>{e.exports=self.fetch||(self.fetch=s(869).default||s(869))},869:(e,t,s)=>{"use strict";function n(e,t){return t=t||{},new Promise((function(s,n){var a=new XMLHttpRequest,r=[],i=[],o={},c=function(){return{ok:2==(a.status/100|0),statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:c,headers:{keys:function(){return r},entries:function(){return i},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var u in a.open(t.method||"get",e,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,s){r.push(t=t.toLowerCase()),i.push([t,s]),o[t]=o[t]?o[t]+","+s:s})),s(c())},a.onerror=n,a.withCredentials="include"==t.credentials,t.headers)a.setRequestHeader(u,t.headers[u]);a.send(t.body||null)}))}s.r(t),s.d(t,{default:()=>n})}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";s.r(n),s.d(n,{FEATURES:()=>u,GAS_PRICE_TYPE:()=>c,Operation:()=>t,RPC_AUTHENTICATION:()=>o,SafeAppAccessPolicyTypes:()=>e,TokenType:()=>i,TransactionStatus:()=>a,TransferDirection:()=>r,getBalances:()=>p,getChainConfig:()=>A,getChainsConfig:()=>S,getCollectibles:()=>m,getDecodedData:()=>P,getFiatCurrencies:()=>_,getMasterCopies:()=>O,getOwnedSafes:()=>y,getSafeApps:()=>E,getSafeInfo:()=>g,getTransactionDetails:()=>T,getTransactionHistory:()=>b,getTransactionQueue:()=>I,postSafeGasEstimation:()=>C,proposeTransaction:()=>v});var e,t,a,r,i,o,c,u,d=s(204),l=s.n(d);function h(e,t){return s=this,void 0,a=function(){var s,n,a,r,i;return function(e,t){var s,n,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,n&&(a=2&r[0]?n.return:r[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,r[1])).done)return a;switch(n=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{s=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}(this,(function(o){switch(o.label){case 0:return null!=t&&(s={method:"POST",body:"string"==typeof t?t:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),[4,l()(e,s)];case 1:return[4,(n=o.sent()).json()];case 2:if(a=o.sent(),!n.ok){r="";try{r=(i=a).code+": "+i.message}catch(e){r=n.statusText}throw new Error(r)}return[2,a]}}))},new((n=void 0)||(n=Promise))((function(e,t){function r(e){try{o(a.next(e))}catch(e){t(e)}}function i(e){try{o(a.throw(e))}catch(e){t(e)}}function o(t){var s;t.done?e(t.value):(s=t.value,s instanceof n?s:new n((function(e){e(s)}))).then(r,i)}o((a=a.apply(s,[])).next())}));var s,n,a}function f(e,t,s,n){if(n)return h(n);var a=s;return h(""+e+function(e,t){return t?Object.keys(t).reduce((function(e,s){return function(e,t,s){return e.replace(new RegExp("\\{"+t+"\\}","g"),s)}(e,s,String(t[s]))}),e):e}(t,null==a?void 0:a.path)+function(e){if(!e)return"";var t=new URLSearchParams;Object.keys(e).forEach((function(s){null!=e[s]&&t.append(s,String(e[s]))}));var s=t.toString();return s?"?"+s:""}(null==a?void 0:a.query),null==a?void 0:a.body)}function g(e,t,s){return f(e,"/v1/chains/{chainId}/safes/{address}",{path:{chainId:t,address:s}})}function p(e,t,s,n,a){return void 0===n&&(n="usd"),void 0===a&&(a={}),f(e,"/v1/chains/{chainId}/safes/{address}/balances/{currency}",{path:{chainId:t,address:s,currency:n},query:a})}function _(e){return f(e,"/v1/balances/supported-fiat-codes")}function y(e,t,s){return f(e,"/v1/chains/{chainId}/owners/{address}/safes",{path:{chainId:t,address:s}})}function m(e,t,s,n){return void 0===n&&(n={}),f(e,"/v1/chains/{chainId}/safes/{address}/collectibles",{path:{chainId:t,address:s},query:n})}function b(e,t,s,n){return f(e,"/v1/chains/{chainId}/safes/{safe_address}/transactions/history",{path:{chainId:t,safe_address:s},query:{}},n)}function I(e,t,s,n){return f(e,"/v1/chains/{chainId}/safes/{safe_address}/transactions/queued",{path:{chainId:t,safe_address:s},query:{}},n)}function T(e,t,s){return f(e,"/v1/chains/{chainId}/transactions/{transactionId}",{path:{chainId:t,transactionId:s}})}function C(e,t,s,n){return f(e,"/v2/chains/{chainId}/safes/{safe_address}/multisig-transactions/estimations",{path:{chainId:t,safe_address:s},body:n})}function v(e,t,s,n){return f(e,"/v1/chains/{chainId}/transactions/{safe_address}/propose",{path:{chainId:t,safe_address:s},body:n})}function S(e,t){return f(e,"/v1/chains",{query:t})}function A(e,t){return f(e,"/v1/chains/{chainId}",{path:{chainId:t}})}function E(e,t,s){return void 0===s&&(s={}),f(e,"/v1/chains/{chainId}/safe-apps",{path:{chainId:t},query:s})}function O(e,t){return f(e,"/v1/chains/{chainId}/about/master-copies",{path:{chainId:t}})}function P(e,t,s){return f(e,"/v1/chains/{chainId}/data-decoder",{path:{chainId:t},body:{data:s}})}!function(e){e.NoRestrictions="NO_RESTRICTIONS",e.DomainAllowlist="DOMAIN_ALLOWLIST"}(e||(e={})),function(e){e[e.CALL=0]="CALL",e[e.DELEGATE=1]="DELEGATE"}(t||(t={})),function(e){e.AWAITING_CONFIRMATIONS="AWAITING_CONFIRMATIONS",e.AWAITING_EXECUTION="AWAITING_EXECUTION",e.CANCELLED="CANCELLED",e.FAILED="FAILED",e.SUCCESS="SUCCESS",e.PENDING="PENDING",e.WILL_BE_REPLACED="WILL_BE_REPLACED"}(a||(a={})),function(e){e.INCOMING="INCOMING",e.OUTGOING="OUTGOING",e.UNKNOWN="UNKNOWN"}(r||(r={})),function(e){e.ERC20="ERC20",e.ERC721="ERC721",e.NATIVE_COIN="NATIVE_COIN"}(i||(i={})),function(e){e.API_KEY_PATH="API_KEY_PATH",e.NO_AUTHENTICATION="NO_AUTHENTICATION",e.UNKNOWN="UNKNOWN"}(o||(o={})),function(e){e.ORACLE="ORACLE",e.FIXED="FIXED",e.UNKNOWN="UNKNOWN"}(c||(c={})),function(e){e.ERC721="ERC721",e.SAFE_APPS="SAFE_APPS",e.CONTRACT_INTERACTION="CONTRACT_INTERACTION",e.DOMAIN_LOOKUP="DOMAIN_LOOKUP",e.SPENDING_LIMIT="SPENDING_LIMIT",e.EIP1559="EIP1559",e.SAFE_TX_GAS_OPTIONAL="SAFE_TX_GAS_OPTIONAL"}(u||(u={}))})(),n})()},72010:e=>{"use strict";e.exports=JSON.parse('{"name":"@gnosis.pm/safe-apps-sdk","version":"6.3.0","description":"SDK developed to integrate third-party apps with Safe app.","main":"dist/src/index.js","typings":"dist/src/index.d.ts","_files":["dist/**/*","README.md"],"keywords":["Gnosis","sdk","apps"],"scripts":{"test":"jest","format-dist":"sed -i \'s/\\"files\\":/\\"_files\\":/\' dist/package.json","build":"yarn rimraf dist && tsc && yarn format-dist","lint":"tslint -p tsconfig.json"},"author":"Gnosis (https://gnosis.io)","license":"MIT","dependencies":{"@gnosis.pm/safe-react-gateway-sdk":"^2.8.5","ethers":"^5.4.7"},"devDependencies":{"rimraf":"^3.0.2"},"repository":{"type":"git","url":"git+https://github.com/gnosis/safe-apps-sdk.git"},"bugs":{"url":"https://github.com/gnosis/safe-apps-sdk/issues"},"homepage":"https://github.com/gnosis/safe-apps-sdk#readme","publishConfig":{"access":"public"}}')}}]);